<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For Jasmine</title>
<link href="https://fonts.googleapis.com/css2?family=Allura&family=Cormorant+Garamond:wght@400;500;600&family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #ff4d6d;
    --primary-dark: #df3555;
    --ink: #3a2b2f;
    --muted: #6d5b63;
    --glass: rgba(255, 255, 255, 0.9);
    --shadow: rgba(255, 77, 109, 0.2);
    --glow: rgba(255, 77, 109, 0.28);
    --card-glow: rgba(255, 120, 160, 0.22);
  }

  * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

  body {
    margin: 0;
    padding: 22px;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Outfit", sans-serif;
    color: var(--ink);
    background:
      radial-gradient(900px 600px at 10% 10%, rgba(255,255,255,0.45), transparent 60%),
      radial-gradient(900px 600px at 90% 20%, rgba(255,255,255,0.35), transparent 60%),
      linear-gradient(120deg, #ffb3c1, #f8c0d8, #fdd6c8, #cdb4db);
    background-size: 220% 220%;
    animation: aurora 18s ease infinite;
    overflow: hidden;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.45), transparent 40%),
      radial-gradient(2px 2px at 80% 60%, rgba(255,255,255,0.3), transparent 40%),
      radial-gradient(1.5px 1.5px at 40% 80%, rgba(255,255,255,0.22), transparent 40%);
    opacity: 0.55;
    pointer-events: none;
  }

  @keyframes aurora {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  #card {
    background: var(--glass);
    backdrop-filter: blur(28px);
    -webkit-backdrop-filter: blur(28px);
    border: 1px solid rgba(255, 255, 255, 0.85);
    border-radius: 30px;
    padding: 40px 30px;
    width: 100%;
    max-width: 430px;
    text-align: center;
    box-shadow:
      0 38px 80px -30px var(--shadow),
      0 0 0 1px rgba(255,255,255,0.5) inset,
      0 0 0 0 var(--card-glow);
    position: relative;
    z-index: 10;
    transition: transform 0.35s cubic-bezier(0.25, 1, 0.5, 1), box-shadow 0.4s, border-color 0.35s;
    max-height: 90vh;
    overflow-y: auto;
    animation: cardIn 0.6s ease;
  }

  #card.glow-soft {
    box-shadow:
      0 38px 80px -30px var(--shadow),
      0 0 0 1px rgba(255,255,255,0.5) inset,
      0 0 26px 4px var(--card-glow);
  }

  #card.glow-strong {
    box-shadow:
      0 38px 80px -30px var(--shadow),
      0 0 0 1px rgba(255,255,255,0.5) inset,
      0 0 40px 8px var(--card-glow);
  }

  @keyframes cardIn {
    from { transform: translateY(12px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  h2 {
    color: var(--primary);
    margin: 8px 0 16px;
    font-weight: 800;
    font-size: clamp(1.85rem, 4vw, 2.2rem);
    letter-spacing: -0.5px;
    text-shadow: 0 6px 18px rgba(255, 77, 109, 0.18);
  }

  p {
    color: var(--muted);
    line-height: 1.7;
    margin-bottom: 22px;
    font-size: 1.02rem;
  }

  button {
    width: 100%;
    padding: 17px;
    border: none;
    border-radius: 18px;
    background: linear-gradient(180deg, var(--primary), var(--primary-dark));
    color: white;
    font-size: 1.05rem;
    font-weight: 700;
    letter-spacing: 0.2px;
    cursor: pointer;
    box-shadow: 0 12px 24px -12px var(--glow);
    transition: transform 0.18s, filter 0.18s, box-shadow 0.18s;
    position: relative;
    overflow: hidden;
  }

  button:hover { filter: brightness(1.03); }
  button:active { transform: scale(0.98); }

  input {
    width: 100%;
    padding: 16px;
    border-radius: 16px;
    border: 2px solid white;
    background: rgba(255,255,255,0.72);
    text-align: center;
    font-size: 1.2rem;
    margin-bottom: 16px;
    outline: none;
    color: var(--primary);
    font-weight: 800;
    letter-spacing: 0.8px;
    transition: box-shadow 0.25s, border-color 0.25s;
  }

  input:focus {
    border-color: var(--primary);
    background: white;
    box-shadow: 0 0 0 4px rgba(255,77,109,0.14), 0 0 16px rgba(255,77,109,0.2);
    animation: inputPulse 1.2s ease-in-out infinite;
  }

  @keyframes inputPulse {
    0%, 100% { box-shadow: 0 0 0 4px rgba(255,77,109,0.14), 0 0 16px rgba(255,77,109,0.2); }
    50% { box-shadow: 0 0 0 6px rgba(255,77,109,0.12), 0 0 24px rgba(255,77,109,0.28); }
  }

  .hidden { display: none !important; }
  .screen-anim { animation: screenIn 0.45s ease; }

  @keyframes screenIn {
    from { transform: translateY(10px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .spotlight {
    position: absolute;
    top: -10%;
    left: -40%;
    width: 45%;
    height: 120%;
    background: linear-gradient(115deg, transparent 0%, rgba(255,255,255,0.7) 45%, transparent 100%);
    transform: rotate(8deg);
    filter: blur(1px);
    animation: spotlightSweep 6.5s ease-in-out infinite;
    pointer-events: none;
    opacity: 0.55;
  }

  @keyframes spotlightSweep {
    0% { left: -45%; opacity: 0; }
    15% { opacity: 0.55; }
    50% { left: 110%; opacity: 0.55; }
    70% { opacity: 0; }
    100% { left: 110%; opacity: 0; }
  }

  .city-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-bottom: 10px;
    position: relative;
  }

  .city-box {
    background: rgba(255,255,255,0.72);
    border-radius: 14px;
    padding: 12px 8px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.65);
    transition: box-shadow 0.28s, transform 0.28s;
  }

  .city-box.tick {
    transform: translateY(-1px);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.65), 0 0 18px rgba(255,77,109,0.25);
  }

  .city-name {
    font-size: 0.72rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: #8b7a82;
    margin-bottom: 6px;
  }

  .city-time {
    font-size: 1.22rem;
    font-weight: 800;
    color: var(--primary);
  }

  .connection-track {
    position: relative;
    height: 18px;
    margin: 0 10px 16px;
  }

  .connection-line {
    position: absolute;
    top: 8px;
    left: 10%;
    right: 10%;
    height: 2px;
    background: rgba(255, 120, 160, 0.45);
    border-radius: 999px;
  }

  .travel-dot {
    position: absolute;
    top: 3px;
    left: 10%;
    width: 12px;
    height: 12px;
    border-radius: 999px;
    background: var(--primary);
    box-shadow: 0 0 12px rgba(255,77,109,0.45);
    animation: travelDot 2.8s ease-in-out infinite;
  }

  .travel-dot.two {
    width: 8px;
    height: 8px;
    top: 5px;
    animation-delay: 0.8s;
    opacity: 0.8;
  }

  @keyframes travelDot {
    0% { left: 10%; opacity: 0.3; }
    50% { left: 88%; opacity: 1; }
    100% { left: 10%; opacity: 0.3; }
  }

  #bar {
    width: 100%;
    height: 12px;
    background: rgba(0,0,0,0.06);
    border-radius: 10px;
    margin: 18px 0;
    overflow: hidden;
  }

  #fill {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #ff7f95, #ff4d6d);
    transition: width 0.2s, filter 0.2s;
    filter: saturate(1);
  }

  #missionStatus {
    min-height: 1.2rem;
    margin-top: -6px;
    margin-bottom: 16px;
    font-size: 0.95rem;
    font-weight: 700;
    color: #6e5961;
    opacity: 0;
    transition: opacity 0.25s;
  }

  #missionStatus.show { opacity: 1; }

  .teddy-wrap {
    display: flex;
    justify-content: center;
    margin: 6px 0 10px;
  }

  .teddy {
    width: 132px;
    filter: drop-shadow(0 10px 20px rgba(0,0,0,0.15));
    animation: teddyBounce 3s ease-in-out infinite;
  }

  @keyframes teddyBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  .btn-group {
    position: relative;
    height: 270px;
    width: 100%;
    margin-top: 10px;
    background: rgba(255,255,255,0.35);
    border-radius: 18px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.45);
    overflow: hidden;
  }

  #yesBtn {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 150px;
    z-index: 5;
    animation: yesPulse 2.4s ease-in-out infinite;
  }

  @keyframes yesPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.04); }
  }

  #noBtn {
    position: absolute;
    width: 88px;
    padding: 10px;
    background: white;
    color: #555;
    top: 68%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: 0.15s ease-out;
    box-shadow: 0 8px 18px rgba(0,0,0,0.09);
    z-index: 10;
  }

  #banter {
    margin-top: 14px;
    font-size: 0.93rem;
    color: #6b5660;
    min-height: 1.3rem;
    font-weight: 600;
    opacity: 0;
    transition: opacity 0.2s;
  }

  #banter.show { opacity: 1; }

  #yesRing {
    position: absolute;
    width: 10px;
    height: 10px;
    border: 2px solid rgba(255, 77, 109, 0.8);
    border-radius: 999px;
    left: 50%;
    top: 40%;
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
  }

  #yesRing.fire {
    animation: yesRing 0.9s ease-out forwards;
  }

  @keyframes yesRing {
    0% { width: 12px; height: 12px; opacity: 0.9; border-width: 2px; }
    100% { width: 420px; height: 420px; opacity: 0; border-width: 1px; }
  }

  .burst {
    position: absolute;
    pointer-events: none;
    animation: burstUp 0.9s ease-out forwards;
    font-size: 18px;
    z-index: 30;
  }

  @keyframes burstUp {
    from { transform: translateY(0) scale(0.8); opacity: 1; }
    to { transform: translateY(-28px) scale(1.25); opacity: 0; }
  }

  .letter-greeting {
    font-family: "Allura", cursive;
    font-size: 2.4rem;
    color: var(--primary);
    text-align: left;
    margin-bottom: 8px;
    line-height: 1.1;
  }

  .typewriter-text {
    font-family: "Cormorant Garamond", serif;
    font-size: 1.22rem;
    line-height: 1.75;
    letter-spacing: 0.1px;
    color: #2c2528;
    text-align: left;
    min-height: 190px;
    white-space: pre-wrap;
    background: rgba(255,255,255,0.7);
    padding: 16px;
    border-radius: 14px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.62);
  }

  .cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background: var(--primary);
    animation: blink 1s infinite;
    vertical-align: middle;
    box-shadow: 0 0 8px rgba(255,77,109,0.45);
  }

  @keyframes blink { 50% { opacity: 0; } }

  .petal {
    position: fixed;
    top: -10px;
    font-size: 20px;
    animation: fall 6s linear forwards;
    pointer-events: none;
    z-index: 40;
  }

  @keyframes fall {
    to { transform: translateY(110vh) rotate(180deg); opacity: 0; }
  }

  @media (max-height: 700px) {
    #card { padding: 32px 24px; }
    .btn-group { height: 240px; }
  }

  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
  }
</style>
</head>
<body>
<div id="card">
  <div id="s0" class="screen-anim" style="position:relative; overflow:hidden;">
    <div class="spotlight"></div>
    <div style="font-size: 60px; margin-bottom: 18px;">üíå</div>
    <h2>A special surprise for Jasmine</h2>
    <input type="password" id="passInput" placeholder="our lingo..." autocomplete="off">
    <p id="errorMsg" style="color: #ff4757; font-size: 0.9rem; font-weight: 700; display:none; margin-top: 10px;"></p>
    <button onclick="checkPass()">Open My Heart</button>
  </div>

  <div id="s1" class="hidden">
    <h2>Two Clocks, One Direction</h2>
    <div class="city-row">
      <div class="city-box" id="sgBox">
        <div class="city-name">Singapore</div>
        <div class="city-time" id="sgTime">--:--</div>
      </div>
      <div class="city-box" id="milBox">
        <div class="city-name">Milan</div>
        <div class="city-time" id="milTime">--:--</div>
      </div>
    </div>
    <div class="connection-track">
      <div class="connection-line"></div>
      <div class="travel-dot"></div>
      <div class="travel-dot two"></div>
    </div>
    <p>Different time zones. Different days. Still worth showing up.</p>
    <button onclick="next(1,2)">Start Mission</button>
  </div>

  <div id="s2" class="hidden">
    <h2>The Mission</h2>
    <p>Close the distance between Singapore and Milan.</p>
    <div id="bar"><div id="fill"></div></div>
    <p id="distDisplay" style="font-weight: 800; color: var(--primary);">6,400 Miles</p>
    <div id="missionStatus"></div>
    <button onclick="run()">MASH TO RUN</button>
  </div>

  <div id="s3" class="hidden">
    <div class="teddy-wrap">
      <svg class="teddy" viewBox="0 0 200 200" aria-label="Teddy with hearts" role="img">
        <rect x="20" y="20" width="160" height="160" rx="24" fill="#ffd3dd"/>
        <circle cx="100" cy="85" r="42" fill="#8b5a4a"/>
        <circle cx="66" cy="80" r="14" fill="#8b5a4a"/>
        <circle cx="134" cy="80" r="14" fill="#8b5a4a"/>
        <circle cx="86" cy="90" r="6" fill="#3b2b2b"/>
        <circle cx="114" cy="90" r="6" fill="#3b2b2b"/>
        <circle cx="100" cy="104" r="5" fill="#3b2b2b"/>
        <circle cx="75" cy="110" r="9" fill="#c07b6a"/>
        <circle cx="125" cy="110" r="9" fill="#c07b6a"/>
        <rect x="72" y="118" width="56" height="30" rx="14" fill="#8b5a4a"/>
        <circle cx="60" cy="120" r="14" fill="#8b5a4a"/>
        <circle cx="140" cy="120" r="14" fill="#8b5a4a"/>
        <path d="M60 135 C60 125, 75 125, 75 135 C75 145, 60 150, 60 150 C60 150, 45 145, 45 135 C45 125, 60 125, 60 135Z" fill="#ff4d6d"/>
        <path d="M100 135 C100 125, 115 125, 115 135 C115 145, 100 150, 100 150 C100 150, 85 145, 85 135 C85 125, 100 125, 100 135Z" fill="#ff4d6d"/>
        <path d="M140 135 C140 125, 155 125, 155 135 C155 145, 140 150, 140 150 C140 150, 125 145, 125 135 C125 125, 140 125, 140 135Z" fill="#ff4d6d"/>
      </svg>
    </div>
    <h2>Will you be my Valentine?</h2>
    <p style="font-size: 0.84rem; opacity: 0.75;">(The buttons have personality.)</p>
    <div class="btn-group" id="btnGroup">
      <div id="yesRing"></div>
      <button id="yesBtn" onclick="yesClick()">YES</button>
      <button id="noBtn" onmouseover="chase()" ontouchstart="chase()" onclick="noClick(event)">No</button>
    </div>
    <div id="banter"></div>
  </div>

  <div id="s5" class="hidden">
    <div class="letter-greeting">Dear Jasmine,</div>
    <div class="typewriter-text">
      <span id="typeTarget"></span><span class="cursor"></span>
    </div>
    <div id="finalHeart" style="font-size: 48px; margin-top: 18px; opacity: 0; transition: 0.8s;">‚ù§Ô∏è</div>
  </div>
</div>

<script>
  const PASS = "uno reverso";
  const MISSION_START = 6400;
  const MILESTONES = new Map([
    [4800, "Nice pace."],
    [3200, "Halfway there."],
    [1600, "Almost there."]
  ]);

  let dist = MISSION_START;
  let missionComplete = false;
  let wrongCount = 0;
  let banterIndex = 0;
  let charIdx = 0;
  let flowerInterval = null;
  let lastMinute = null;

  const banterLines = [
    "Nice try. Application denied.",
    "That button is for decoration only.",
    "No is under maintenance right now.",
    "You found it. Still no."
  ];

  function setCardGlow(mode) {
    const card = document.getElementById("card");
    card.classList.remove("glow-soft", "glow-strong");
    if (mode === "soft") card.classList.add("glow-soft");
    if (mode === "strong") card.classList.add("glow-strong");
  }

  function updateClocks() {
    const now = new Date();
    const minute = now.getMinutes();

    const sg = new Intl.DateTimeFormat("en-US", {
      hour: "numeric", minute: "2-digit", hour12: true, timeZone: "Asia/Singapore"
    }).format(now);

    const mil = new Intl.DateTimeFormat("en-US", {
      hour: "numeric", minute: "2-digit", hour12: true, timeZone: "Europe/Rome"
    }).format(now);

    const sgEl = document.getElementById("sgTime");
    const milEl = document.getElementById("milTime");
    if (sgEl) sgEl.textContent = sg;
    if (milEl) milEl.textContent = mil;

    if (lastMinute !== null && minute !== lastMinute) pulseTick();
    lastMinute = minute;
  }

  function pulseTick() {
    const sgBox = document.getElementById("sgBox");
    const milBox = document.getElementById("milBox");
    if (!sgBox || !milBox) return;
    sgBox.classList.add("tick");
    milBox.classList.add("tick");
    setTimeout(() => {
      sgBox.classList.remove("tick");
      milBox.classList.remove("tick");
    }, 280);
  }

  setInterval(updateClocks, 1000);
  updateClocks();

  function next(current, nextScreen) {
    const cur = document.getElementById("s" + current);
    const nxt = document.getElementById("s" + nextScreen);

    if (cur) cur.classList.add("hidden");
    if (nxt) {
      nxt.classList.remove("hidden");
      nxt.classList.add("screen-anim");
      setTimeout(() => nxt.classList.remove("screen-anim"), 520);
    }

    if (nextScreen === 5) {
      startFlowerPetals();
      setTimeout(typeWriter, 260);
    }
    if (nextScreen === 1 || nextScreen === 2 || nextScreen === 3) stopFlowerPetals();

    if (nextScreen === 5) setCardGlow("strong");
    else if (nextScreen === 3) setCardGlow("soft");
    else setCardGlow(null);
  }

  function checkPass() {
    const val = document.getElementById("passInput").value.toLowerCase().trim();
    if (val === PASS) {
      next(0, 1);
      return;
    }

    wrongCount++;
    const err = document.getElementById("errorMsg");
    err.style.display = "block";
    if (wrongCount === 1) err.innerText = "Not quite. Try again.";
    else if (wrongCount === 2) err.innerText = "Starts with U.";
    else err.innerText = "Think card game reverse.";

    const card = document.getElementById("card");
    card.style.transform = "translateX(10px)";
    setTimeout(() => { card.style.transform = "translateX(0)"; }, 100);

    const r = card.getBoundingClientRect();
    tinyBurst(r.left + r.width / 2, r.top + 80, ["x", "x", "x"]);
  }

  function run() {
    if (missionComplete) return;

    dist -= 400;
    if (dist < 0) dist = 0;

    const progress = (MISSION_START - dist) / MISSION_START;
    const fill = document.getElementById("fill");
    fill.style.width = (progress * 100) + "%";
    fill.style.filter = `saturate(${1 + progress * 0.9})`;

    document.getElementById("distDisplay").innerText = dist + " Miles";

    if (MILESTONES.has(dist)) showMissionStatus(MILESTONES.get(dist));

    if (dist === 0 && !missionComplete) {
      missionComplete = true;
      showMissionStatus("You've arrived!");
      celebrateMissionArrival();
      setTimeout(() => next(2, 3), 1250);
    }
  }

  function showMissionStatus(text) {
    const status = document.getElementById("missionStatus");
    status.textContent = text;
    status.classList.add("show");
  }

  function celebrateMissionArrival() {
    const symbols = ["üå∏", "‚ú®", "üå∑", "üíñ"];
    for (let i = 0; i < 50; i++) {
      const p = document.createElement("div");
      p.className = "petal";
      p.textContent = symbols[Math.floor(Math.random() * symbols.length)];
      p.style.left = Math.random() * 100 + "vw";
      p.style.fontSize = (14 + Math.random() * 10) + "px";
      p.style.animationDuration = (2.2 + Math.random() * 1.8) + "s";
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 4500);
    }
  }

  function yesClick() {
    const yesBtn = document.getElementById("yesBtn");
    const ring = document.getElementById("yesRing");

    yesBtn.textContent = "YES!!!";
    yesBtn.style.filter = "brightness(1.12)";
    setCardGlow("strong");

    ring.classList.remove("fire");
    void ring.offsetWidth;
    ring.classList.add("fire");

    celebrateMissionArrival();
    setTimeout(() => next(3, 5), 1100);
  }

  function noClick(e) {
    e.preventDefault();
    const banter = document.getElementById("banter");
    banter.textContent = banterLines[banterIndex % banterLines.length];
    banter.classList.add("show");
    banterIndex++;
    tinyBurst(e.clientX, e.clientY, ["üòº", "üôà", "‚ú®"]);
    chase();
  }

  function chase() {
    const group = document.getElementById("btnGroup");
    const no = document.getElementById("noBtn");
    if (!group || !no) return;

    const pad = 8;
    const maxX = group.clientWidth - no.offsetWidth - pad * 2;
    const maxY = group.clientHeight - no.offsetHeight - pad * 2;

    const x = pad + Math.random() * Math.max(maxX, 0);
    const y = pad + Math.random() * Math.max(maxY, 0);

    no.style.left = x + "px";
    no.style.top = y + "px";
    no.style.transform = "none";
  }

  window.addEventListener("resize", () => {
    const no = document.getElementById("noBtn");
    const group = document.getElementById("btnGroup");
    if (!no || !group || document.getElementById("s3").classList.contains("hidden")) return;

    const x = Math.min(no.offsetLeft, group.clientWidth - no.offsetWidth - 8);
    const y = Math.min(no.offsetTop, group.clientHeight - no.offsetHeight - 8);
    no.style.left = Math.max(8, x) + "px";
    no.style.top = Math.max(8, y) + "px";
  });

  function tinyBurst(x, y, items) {
    const host = document.body;
    for (let i = 0; i < 6; i++) {
      const b = document.createElement("div");
      b.className = "burst";
      b.textContent = items[Math.floor(Math.random() * items.length)];
      b.style.left = (x + (Math.random() * 26 - 13)) + "px";
      b.style.top = (y + (Math.random() * 16 - 8)) + "px";
      host.appendChild(b);
      setTimeout(() => b.remove(), 900);
    }
  }

  const text = `It's surreal to think that fifteen hours together, starting as strangers, could lead us here. Two days. A few deep conversations. The sound of us humming along to songs, and the way your lips lingered before you left. Then you were gone. But instead of letting it slip away, I'm glad that we let it grow.

Now here we are, navigating 6,400 miles and a seven-hour gap, finding pockets of time that belong to us. Somewhere between the calls and the quiet pauses, you slowly became part of my life.

Being apart is far from easy. There are moments when I reach for my phone and wish, more than anything, that I was reaching for your hand instead. But even with the distance, you feel close to me in a way I can't quite explain.

There have been moments that required patience, honesty, and a willingness to do things differently than before. But even through that, what we've built has felt safe and real. I am grateful for what we are building together.

I hope your first Valentine's feels as special as you are. It's my first too, and I'm glad it's with you.

With love,
The PB to your J.`;

  function typeWriter() {
    const target = document.getElementById("typeTarget");
    if (!target) return;

    if (charIdx < text.length) {
      const char = text.charAt(charIdx);
      target.innerHTML += char === "\n" ? "<br>" : char;
      charIdx++;
      setTimeout(typeWriter, 50);
    } else {
      document.querySelector(".cursor").style.display = "none";
      document.getElementById("finalHeart").style.opacity = 1;
      setCardGlow("strong");
    }
  }

  function startFlowerPetals() {
    if (flowerInterval) return;
    flowerInterval = setInterval(spawnPetal, 1100);
  }

  function stopFlowerPetals() {
    if (!flowerInterval) return;
    clearInterval(flowerInterval);
    flowerInterval = null;
  }

  function spawnPetal() {
    const p = document.createElement("div");
    p.className = "petal";
    p.textContent = Math.random() > 0.5 ? "üå∏" : "üå∑";
    p.style.left = Math.random() * 100 + "vw";
    p.style.animationDuration = (4.8 + Math.random() * 2.6) + "s";
    document.body.appendChild(p);
    setTimeout(() => p.remove(), 7600);
  }

  setCardGlow("soft");
</script>
</body>
</html>
